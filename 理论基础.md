- [时间序列数据的一般处理流程](#时间序列数据的一般处理流程)
- [时间序列的平稳性](#时间序列的平稳性)
  - [为什么要把时间序列变成平稳的？——平稳性的意义](#为什么要把时间序列变成平稳的平稳性的意义)
  - [如何检验时间序列数据的平稳性？——单位根检验](#如何检验时间序列数据的平稳性单位根检验)
  - [数据不平稳怎么办？——协整检验](#数据不平稳怎么办协整检验)
- [滤波](#滤波)
  - [为什么要滤波](#为什么要滤波)
  - [滤波的方法](#滤波的方法)
- [时间序列](#时间序列)
  - [时序数据的训练集，验证集，测试集的划分](#时序数据的训练集验证集测试集的划分)
- [数据处理](#数据处理)
- [数据探索](#数据探索)
- [特征工程](#特征工程)
- [数据评估](#数据评估)
- [机器学习&深度学习算法选择](#机器学习深度学习算法选择)
- [现实采样的难点](#现实采样的难点)
- [故障相关概念 & 特点](#故障相关概念--特点)
- [中英文对照索引](#中英文对照索引)

## 时间序列数据的一般处理流程

先做单位根检验，看变量序列是否平稳序列，若平稳，可构造回归模型等经典计量经济学模型；若非平稳，进行差分，当进行到第d次差分时序列平稳，则服从i阶单整。若所有检验序列均服从同阶单整，可构造VAR模型，做协整检验，判断模型内部变量间是否存在协整关系，即是否存在长期均衡关系。如果有，则可以构造VEC模型或者进行Granger因果检验，检验变量之间“谁引起谁变化”，即因果关系。

## 时间序列的平稳性

### 为什么要把时间序列变成平稳的？——平稳性的意义

随机变量的基本特性必须能在包括未来阶段的一个长时期里维持不变。否则，基于历史和现状来预测未来的思路便是错误的。

### 如何检验时间序列数据的平稳性？——单位根检验

如果数据平稳，则不存在单位根；反之，数据不平稳，则存在单位根。
注意：单位根检验的原假设是存在单位根，也就是说，单位根检验的原假设成立，则数据不平稳。
单位根检验包括：ADF检验，PP检验，NP检验等。

### 数据不平稳怎么办？——协整检验

        - 单整、协整（cointegration）
        如果一个时间序列经过一次差分变成平稳的，则称原序列是1阶单整的，记为I（1）。 一般地，如果时间序列经过d次差分后变成平稳序列，而经过d-1次差分仍不平稳，则称原序列是d阶单整序列，记为I（d）。
        协整是说两个或多个变量之间具有长期的稳定关系。但变量间协整的必要条件是它们之间是同阶单整，也就是说在进行协整检验之前必须进行单位根检验。
        协整说的是变量之间存在长期的稳定关系，这只是从数量上得到的结论，但不能确定谁是因，谁是果。而因果关系检验解决的就是这个问题。

        - 协整检验
        协整检验是用来分析变量之间的长期均衡关系,在协整分析两变量的过程中,如果自变量和因变量是协整的,我们就可以确信这两变量不会产生伪回归结果并且这两个变量存在长期稳定的关系。

## 滤波

### 为什么要滤波

    为了使采样的数据更准确,必须对采样的数据进行筛选去掉误差较大的毛刺。通常我们采用滤波来提高采样精度。除了中值滤波和均值滤波外,还有一阶滞后滤波,限幅滤波法等。

### 滤波的方法

>传统滤波方法

- 中值滤波
- 均值滤波
- 高斯滤波
>
## 时间序列

    时序（时间序列）模型也称为回归模型。
    一方面承认事物发展的延续性，运用过去时间序列的数据进行统计就可以推测事物的发展趋势；
    另一方面，充分考虑到偶然因素影响的随机性，使用历史数据，进行统计分析对数据进行适当处理来消除随机波动的影响。简单易行，便于掌握并充分运用时间序列的各项数据，计算速度较快，能够比较精确的确定模型的动态参数；但是不能够反映事物的内在联系，结合因素的相互联系，只适用于短期预测。

    时间序列定义为在一定时间间隔内按时间顺序测量的某个数量。时间序列分析是指将历史数据分解为四部分来看——趋势、周期、时期和不稳定因素，然后综合这些因素，提出预测。时间序列分为平稳序列和非平稳序列两大类。平稳序列是不存在趋势只存在随机性的序列，非平稳序列则是包含趋势、季节性和随机性的序列。
    从时间的角度可以把一个序列基本分为3类
    1.纯随机序列（白噪声序列），这时候可以停止分析，因为就像预测下一次硬币哪一面朝上一样毫无规律。

    平稳非白噪声序列，它们的均值和方差是常数，对于这类序列，有成熟的模型来拟合这个序列在未来的发展状况，如AR，MA，ARMA等（

    3.非平稳序列，一般做法是把他们转化为平稳的序列，在按照平稳序列的算法进行拟合。如果经过差分后平稳，则应使用ARIMA模型进行拟合。平稳性检验
    （1）单位根检验
    函数：adftest(A)
    结果为0，则序列为非平稳
    （2）Daniel检验
    对于显著性水平A，计算时间序列的秩相关系数q，若T大于二分a数，则认为序列非平稳。

### 时序数据的训练集，验证集，测试集的划分

  [参考](https://blog.csdn.net/g1027785756/article/details/98481123?ops_request_misc=&request_id=&biz_id=102&utm_term=%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E7%9A%84%E8%AE%AD%E7%BB%83%E9%9B%86%EF%BC%8C%E9%AA%8C%E8%AF%81%E9%9B%86%EF%BC%8C%E6%B5%8B%E8%AF%95%E9%9B%86%E7%9A%84%E5%88%92%E5%88%86&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-4-98481123.142^v42^pc_rank_34_2,185^v2^control&spm=1018.2226.3001.4187)

    时间序列的数据需要在样本外数据上评估模型
    保证学习序列的完整，而不需要保证样本的完整
    时间序列数据交叉验证的方式一般有两种：
        1）如果时间序列数据存在明显的趋势或者周期性的话，一般采用forward chain方法，
        但是这种方法其实也存在问题，因为每次交叉训练集的大小都不一样，可能使最终的泛化误差依赖于样本大小。
        为了使每次交叉验证时训练集的样本都一样，可以采用如下方式：
        train[1,2], test[3]
        train[2,3], test[4]
        train[3,4],test[5]
        train[4,5],test[6]
        2）如果时间序列数据沿着时间轴没有明显的周期和趋势的话，即该时间序列是稳态的，那么其实是可以使用hv交叉验证方法的

## 数据处理

- 缺失值、异常值和重复值

- 滤波

- 归一化、去量纲
- 标准化

## 数据探索

- 数据描述方法

数据描述方法是最直观，最简单，最容易理解的探索方法。：

    最多？（众值）
    平均？（平均数）
    中间？（中位数）
    最大？（极值）
    最小？（极值）
    浮动程度？（方差）
    曲线形状？（分布）

它主要包括以下三方面：

    集中趋势分析：讨论数据平均处于什么位置，集中于什么位置，数据的中心点的什么位置。对应前面说的最多、平均、中间等问题。
    离中趋势分析：讨论数据的离散程度，即数据的分散程度。对应前面说的最大、最小、浮动程度等问题。
    数据分布关系：讨论数据的形态形状。对应前面说的曲线形状，即分布。
    图分析：用散点图、柱状图、直方图等图表显示并比较数据的形态。

- 数理统计方法

数理统计方法相对来说更偏重数学的公式。它是在用统计学的语言去论证数据的规律。大多数方法，如假设检验、方差分析都是在用统计概率证明一种结论。

数理统计方法从理解上说要更难一些，同时包括的方法也更多更杂。它主要包括以下5种方法：

    假设检验：分析样本指标与总体指标间是否存在显著性差异。
    方差分析：用于两个以及两个以上样本均数差别的显著性检验。
    相关分析：探索数据之间的正相关、负相关关系。
    回归分析：探索数据之间的因果关系或依赖关系。
    因子分析：从变量群中提取共性因子的统计技术。

通过这两种方法，一方面能够对整个样本数据的形态有完整的描述，一方面也能够深入的探讨数据之间的关系与内部联系。进而为下一步的数据建模创造良好的前提条件。

## 特征工程

## 数据评估

## 机器学习&深度学习算法选择

https://zhuanlan.zhihu.com/p/421710621

- 传统机器学习算法

 1 支持向量机

 2 随机森林

 3 人工神经网络

- 深度学习

    卷积神经网络

    BP神经网络、径向基神经网络和广义回归神经网络

    循环神经网络

    LSTM

        Step 1：已经预处理过的数据转换为Tensorflow可接受的张量形式

        A:数据归一化(方便模型训练快速收敛);
        B:训练数据转换格式(X：x(1)，……，x(n);Y：x(n+1));
        C:Reshape成指定形状的张量
        Step2：定义网络结构

        A:选择网络：这里使用的是LSTM网络;
        B:设置参数：输入层(层数，隐层神经元个数)、输出层、timestep;
        C:初始化各个神经元之间的连接(权重)跟偏置。

        Step3：网络训练

            A:设置优化器、损失函数、学习率、激活函数…;
            B:设置训练方式(epoch，batch_size)。

        Step4：生产预测

            A:保存模型;
            B:复用模型进行预测，注意需要反归一化。


## 现实采样的难点

 1. 不是定时采样

 2. 采样频率不一致

## 故障相关概念 & 特点

一般来说，故障是设备无法正常工作的一种现象。这种现象主要由外界环境变换
和干扰、操作员使用不当、部件磨损和设备性能老化等条件引起的。故障的表现形式
一般来说有很多种，如发生故障时，设备的性能降低，此时设备仍然可以工作，但是
无法发挥设备的全部功能，或者此时设备仍然可以完成相应的功能，但是完成的相应
指标降低；再比如当设备发生故障时，设备的某个部件损坏了，此时会导致设备无法
正常工作，更有可能导致整个系统瘫痪和设备结构发生重大改变，设备完全无法进行
使用。目前，随着技术的不断发展，大型设备主要由机电一体化构成，这些大型设备
故障主要分为机械故障和电子故障。其中机械故障主要有腐蚀、磨损和断裂等；电子
故障主要是电子元器件烧毁和电子元器件受外界影响老化等。故障一般有以下几个特
点：

(1) 随机性
随机性也就是突发性，有些电子元器件受环境影响严重，故障状况和周围环境密
不可分，因此难以预测元器件的状态趋势，没有什么规律性。

(2) 相关性
大部分情况下，设备发生故障时会有很多故障征兆和现象。有时仅仅是一处部件
出现损坏，但是却引起了其他设备无法工作，因为这些设备之间互相耦合，具有高度
相关性。

(3) 层次性
现在设备日趋复杂，尤其是大型设备，其包含多个功能单元。为了维修的方便，
在设计时会根据功能将其分配成多个子系统，使得设备具有层次性，从而使得整个设
备的故障也出现层次性的特点。

(4) 可预测性
大部分设备在故障发生前会有一定的故障征兆，整个设备从正常到出现故障有一
个相对较长的时间。我们可以通过对相应的健康指标进行预测，从而预测出故障发生
的时间。

故障诊断技术主要是在采集设备相关信息的基础上，对采集得到的数据进行处理
分析，从而得到设备的故障部位及故障状态并且根据故障部位和故障状态给出相应的
维修建议和处理方法。而处理数据的方法对故障诊断的准确率有着至关重要的作用。
一般来说，对信号进行处理主要是提取信号的时域特征、频域特征和时频特征。时域
特征主要有：数据的最大值、最小值、均值、均方差等；频域主要特征有：频率的峰
值、均值、中心频率等；时频特征是在对信号进行频域分析的基础上求相应的时域特
征。

## 中英文对照索引

Multivariate-multi-step-time-series 多元多步预测

[输入输出层数](https://blog.csdn.net/qq_38426337/article/details/82459884?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522166135622116782425159442%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=166135622116782425159442&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-82459884-null-null.142^v42^control,185^v2^control&utm_term=%E8%BE%93%E5%85%A5%E5%B1%82%E8%8A%82%E7%82%B9%E6%95%B0&spm=1018.2226.3001.4187)
